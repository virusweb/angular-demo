<div class="login-form">
    <form name="form" (ngSubmit)="doRegister(f)" [mustMatch]="['password', 'cpassword']" #f="ngForm" autocomplete="off" novalidate>
        <h2 class="text-center">Register</h2>
        <div class="form-group">
            <div class="input-group">
                <input type="text" class="form-control" name="fname" [(ngModel)]="fname" #ifname="ngModel"
                    placeholder="Firstname" required />
            </div>
            <div *ngIf="f.submitted && ifname.invalid" class="error">
                <div *ngIf="ifname.errors.required">Firstname is required</div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="text" class="form-control" name="lname" [(ngModel)]="lname" #ilname="ngModel"
                    placeholder="Lastname" required />
            </div>
            <div *ngIf="f.submitted && ilname.invalid" class="error">
                <div *ngIf="ilname.errors.required">Lastname is required</div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="email" class="form-control" name="email" [(ngModel)]="email" #iemail="ngModel"
                    placeholder="Email" required email="true" (blur)="checkEmail();" />
            </div>
            <div class="error" *ngIf="!emailNotRegistered">Email is already registered</div>
            <div *ngIf="f.submitted && iemail.invalid" class="error">
                <div *ngIf="iemail.errors.required">Email is required</div>
                <div *ngIf="iemail.errors.email">Email is not valid</div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="password" class="form-control" name="password" [(ngModel)]="password" #ipassword="ngModel"
                    placeholder="Password" minlength="6" maxlength="8" required autocomplete="current-password">
            </div>
            <div *ngIf="f.submitted && ipassword.invalid" class="error">
                <div *ngIf="ipassword.errors.required">Password is required</div>
                <div *ngIf="ipassword.errors.minlength">Password must be at least 6 to 8 characters long</div>
                <div *ngIf="ipassword.errors.maxlength">Password must be at least 6 to 8 characters long</div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="password" class="form-control" name="confrim_password" [(ngModel)]="cpassword"
                    #crfmpassword="ngModel" placeholder="Confirm Password" minlength="6" maxlength="8" required
                    autocomplete="new-password">
            </div>
            <div *ngIf="f.submitted && crfmpassword.invalid" class="error">
                <div *ngIf="crfmpassword.errors.required">Confirm password is required</div>
                <div *ngIf="crfmpassword.errors.minlength">Confirm password must be at least 6 to 8 characters long
                </div>
                <div *ngIf="crfmpassword.errors.maxlength">Confirm password must be at least 6 to 8 characters long
                </div>
                <div *ngIf="crfmpassword.errors.mustMatch">Passwords must match</div>
            </div>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary login-btn btn-block">Register</button>
        </div>
    </form>
    <p class="text-center text-muted small">Already have an account ? <a routerLink="/">Login here!</a></p>
</div>
<alert-msg *ngIf="msg" type="info" strongMsg="" [message]="msg | titlecase"></alert-msg>